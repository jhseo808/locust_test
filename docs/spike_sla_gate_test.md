# Spike Test + SLA Gate 테스트

## 1. 테스트 목적

본 테스트는 갑작스러운 트래픽 증가(Spike) 상황에서  
시스템이 사전에 정의한 **SLA(Service Level Agreement)** 를 만족하지 못할 경우  
테스트를 자동으로 중단시키는 **품질 게이트(SLA Gate)** 동작을 검증하기 위해 수행되었다.

단순히 성능을 관찰하는 것이 아니라,  
**성능 기준을 코드로 강제**하는 것이 본 테스트의 핵심 목적이다.

---

## 2. 테스트 대상 및 환경

- 테스트 대상(Host): https://httpbin.org
- 테스트 유형: Spike Test + SLA Gate
- 동시 사용자 수: 200명
- Ramp-up(증가 속도): 초당 30명
- SLA 기준: 응답 시간 3초 초과 시 실패로 판정

---

## 3. SLA Gate 개념 설명

SLA Gate는 다음 조건을 만족할 경우 테스트를 자동 종료한다.

- 개별 요청의 응답 시간이 SLA(3초)를 초과
- SLA 위반 요청이 누적 임계치에 도달
- 임계치 도달 시 Locust 이벤트를 통해 테스트 중단

이를 통해 성능 테스트 결과를  
단순 참고용 데이터가 아닌 **PASS / FAIL 판단 기준**으로 활용할 수 있다.

---

## 4. 확인 포인트

SLA Gate가 정상적으로 동작할 경우 다음 현상이 관측된다.

- Failures 수가 SLA 위반 횟수에 비례하여 증가
- 사용자 수가 유지된 상태에서 테스트가 갑자기 종료
- Ramp-down 없이 그래프가 종료됨
- 수동 STOP 없이 Status가 STOPPED로 변경

---

## 5. 테스트 해석 기준

- SLA 위반이 발생하였으나 테스트가 계속 진행됨  
  → Gate 임계치 미도달
- SLA 위반 누적 후 테스트가 자동 종료됨  
  → Gate 정상 동작

---

## 6. 결론

Spike + SLA Gate 테스트를 통해  
급격한 트래픽 증가 상황에서 성능 기준을 만족하지 못할 경우  
시스템을 배포 불가 상태로 판단할 수 있는  
자동화된 품질 게이트를 구성할 수 있음을 확인하였다.
